# Modbus RTU Manager 环境变量配置示例
# 复制此文件为 .env 并修改配置

# 服务器配置
PORT=3000
NODE_ENV=production

# ==========================================
# 集群配置（可选）
# ==========================================
# 是否启用集群模式（默认: false）
CLUSTER_ENABLED=false

# 节点ID（默认: 自动生成）
# NODE_ID=node-1

# 节点角色: master, worker, both（默认: worker）
# NODE_ROLE=worker

# Redis 配置（集群模式必需）
# REDIS_HOST=localhost
# REDIS_PORT=6379
# REDIS_PASSWORD=
# REDIS_DB=0

# 任务分配策略: round-robin, least-loaded, hash（默认: round-robin）
# TASK_STRATEGY=round-robin

# ==========================================
# 备份配置（可选）
# ==========================================
# 备份目录（默认: ./backups）
# BACKUP_DIR=./backups

# 最大备份数量（默认: 10）
# MAX_BACKUPS=10

# ==========================================
# 数据库配置
# ==========================================
# 数据库类型: sqlite, mysql, postgresql
DB_TYPE=sqlite

# ==========================================
# SQLite 配置 (默认)
# ==========================================
DB_FILE=./modbus.db

# ==========================================
# MySQL 配置
# ==========================================
# DB_TYPE=mysql
# DB_HOST=localhost
# DB_PORT=3306
# DB_USER=root
# DB_PASSWORD=your_password
# DB_NAME=modbus_manager

# ==========================================
# PostgreSQL 配置
# ==========================================
# DB_TYPE=postgresql
# DB_HOST=localhost
# DB_PORT=5432
# DB_USER=postgres
# DB_PASSWORD=your_password
# DB_NAME=modbus_manager

# ==========================================
# 时间同步配置
# ==========================================
# 时间源: local, gps, gps-pps, ntp (默认: local)
# - local: 使用本地系统时钟
# - gps: 使用 GPS NMEA 时间（秒级精度）
# - gps-pps: 使用 GPS + PPS 高精度时间（微秒级精度）
# - ntp: 使用 NTP 网络时间协议
TIME_SOURCE=local

# GPS 配置（仅当 TIME_SOURCE=gps 或 gps-pps 时需要）
# GPS 串口设备路径
# Linux: /dev/ttyUSB0, /dev/ttyACM0
# Windows: COM3, COM4
GPS_PORT=/dev/ttyUSB0
GPS_BAUDRATE=9600

# PPS 配置（仅当 TIME_SOURCE=gps-pps 时需要）
# PPS 设备路径（通常为 /dev/pps0）
# 需要先加载内核模块: sudo modprobe pps-gpio
# 安装 pps-tools: sudo apt-get install pps-tools
PPS_DEVICE=/dev/pps0

# NTP 客户端配置（仅当 TIME_SOURCE=ntp 时需要）
# NTP 服务器地址
NTP_SERVER=pool.ntp.org

# 时间同步间隔（毫秒，默认: 3600000 = 1小时）
TIME_SYNC_INTERVAL=3600000

# ==========================================
# NTP 服务器配置（可选）
# ==========================================
# 是否启用 NTP 服务器（默认: false）
# 启用后，本系统将作为 NTP 服务器，向其他设备提供时间服务
NTP_SERVER_ENABLED=false

# NTP 服务器端口（默认: 123）
# 注意：端口 123 需要 root 权限，可以使用其他端口如 1123
NTP_SERVER_PORT=123

# NTP 服务器层级（默认: 1）
# 1 = 主时钟源（GPS），10 = 本地时钟
NTP_STRATUM=1

# NTP 服务器时钟源
# 自动使用 TIME_SOURCE 的值
# 可选值: local, gps, gps-pps

# ==========================================
# 系统设置
# ==========================================
# 系统名称
SYSTEM_NAME=Modbus RTU Manager

# 系统标题
SYSTEM_TITLE=Modbus RTU 设备管理系统

# 系统描述
SYSTEM_DESCRIPTION=工业设备管理与监控平台

# 系统Logo路径（相对于 public 目录）
SYSTEM_LOGO=/images/logo.svg

# 主题色
PRIMARY_COLOR=#3498db

# 时区（默认: Asia/Shanghai）
TZ=Asia/Shanghai
