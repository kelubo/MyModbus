# 系统设置指南

## 功能概述

系统设置功能允许您自定义系统的外观和品牌标识，包括系统名称、Logo、标题和主题色。

## 访问系统设置

1. 登录系统后，在页面右上角找到 **⚙️ 设置按钮**
2. 点击打开系统设置对话框

## 可配置项

### 1. 系统名称

- **用途**: 系统的简短名称
- **示例**: "我的工业监控系统"、"智能设备管理平台"
- **显示位置**: 浏览器标签页标题

### 2. 系统标题

- **用途**: 页面顶部显示的主标题
- **示例**: "Modbus RTU 设备管理系统"
- **显示位置**: 页面头部主标题
- **建议**: 使用清晰、专业的标题

### 3. 系统描述

- **用途**: 系统的简短描述
- **示例**: "工业设备管理与监控平台"
- **显示位置**: 页面头部标题下方
- **建议**: 简洁说明系统用途

### 4. 系统 Logo

#### 上传自定义 Logo

1. 点击 **"上传Logo"** 按钮
2. 选择图片文件
3. 支持的格式：
   - PNG（推荐，支持透明背景）
   - JPG/JPEG
   - GIF
   - SVG（矢量图，推荐）
4. 文件大小限制：最大 5MB
5. 上传后立即预览

#### Logo 设计建议

**尺寸建议**:
- 宽度: 150-250px
- 高度: 40-80px
- 比例: 2:1 到 4:1

**设计要点**:
- 使用简洁的设计
- 确保在深色背景上清晰可见
- 建议使用透明背景的 PNG 或 SVG
- 避免过于复杂的细节

**示例场景**:
- 公司 Logo
- 项目标识
- 品牌标志

#### 重置为默认 Logo

1. 点击 **"重置为默认"** 按钮
2. 确认操作
3. Logo 将恢复为系统默认 Logo

### 5. 主题色

- **用途**: 系统的主色调
- **格式**: 十六进制颜色代码（如 #3498db）
- **使用方式**:
  - 使用颜色选择器直接选择
  - 或手动输入颜色代码
- **应用范围**: 按钮、链接等界面元素
- **建议**: 选择与品牌一致的颜色

## 使用示例

### 示例 1: 企业定制

```
系统名称: 智能制造监控平台
系统标题: ABC公司 - 设备管理系统
系统描述: 智能制造设备实时监控与管理
Logo: 上传公司Logo
主题色: #1E88E5 (公司蓝)
```

### 示例 2: 项目定制

```
系统名称: 工厂A设备监控
系统标题: 工厂A - Modbus设备管理
系统描述: 生产线设备实时监控平台
Logo: 上传项目Logo
主题色: #43A047 (绿色)
```

### 示例 3: 个人使用

```
系统名称: 我的设备管理
系统标题: 个人设备监控系统
系统描述: Modbus设备数据采集与监控
Logo: 使用默认Logo
主题色: #3498db (默认蓝)
```

## 保存设置

1. 填写完所有需要修改的项目
2. 点击 **"保存设置"** 按钮
3. 系统提示"设置已保存，刷新页面后生效"
4. 刷新浏览器页面查看效果

## 注意事项

### Logo 上传

✅ **推荐做法**:
- 使用 PNG 格式（支持透明背景）
- 使用 SVG 格式（矢量图，任意缩放不失真）
- 保持合适的尺寸比例
- 确保在白色和深色背景上都清晰可见

❌ **避免**:
- 上传过大的文件（>5MB）
- 使用过于复杂的图片
- 使用低分辨率的图片

### 主题色选择

✅ **推荐做法**:
- 选择与品牌一致的颜色
- 确保颜色对比度足够（可读性）
- 测试在不同界面元素上的效果

❌ **避免**:
- 使用过于鲜艳刺眼的颜色
- 使用对比度过低的颜色

### 文本内容

✅ **推荐做法**:
- 使用简洁明了的文字
- 保持专业性
- 避免过长的标题

❌ **避免**:
- 使用特殊字符或表情符号
- 标题过长导致显示不全

## 配置持久化

所有设置都会保存到数据库中，即使重启服务器也会保留。

### 配置存储位置

- 数据库表: `system_settings`
- 上传的 Logo: `public/uploads/` 目录

### 备份建议

在进行系统备份时，建议同时备份：
1. 数据库文件（包含设置）
2. `public/uploads/` 目录（包含上传的 Logo）

## 环境变量配置

也可以通过环境变量设置默认值（在 `.env` 文件中）：

```bash
# 系统名称
SYSTEM_NAME=我的监控系统

# 系统标题
SYSTEM_TITLE=设备管理系统

# 系统描述
SYSTEM_DESCRIPTION=工业设备监控平台

# 系统Logo路径
SYSTEM_LOGO=/images/logo.svg

# 主题色
PRIMARY_COLOR=#3498db
```

**注意**: 数据库中的设置优先级高于环境变量。

## 故障排除

### Logo 不显示

**可能原因**:
1. 文件格式不支持
2. 文件路径错误
3. 文件损坏

**解决方法**:
1. 检查文件格式是否为支持的类型
2. 尝试重新上传
3. 点击"重置为默认"使用系统默认 Logo

### 上传失败

**可能原因**:
1. 文件过大（>5MB）
2. 文件类型不支持
3. 磁盘空间不足

**解决方法**:
1. 压缩图片文件
2. 转换为支持的格式
3. 清理磁盘空间

### 设置未生效

**可能原因**:
1. 未刷新页面
2. 浏览器缓存

**解决方法**:
1. 刷新浏览器页面（F5）
2. 清除浏览器缓存（Ctrl+Shift+Delete）
3. 使用硬刷新（Ctrl+F5）

## API 接口

如需通过 API 管理系统设置：

### 获取系统设置

```bash
GET /api/system/settings
```

响应示例:
```json
{
  "systemName": "我的监控系统",
  "systemTitle": "设备管理系统",
  "systemDescription": "工业设备监控平台",
  "systemLogo": "/uploads/logo-1234567890.png",
  "primaryColor": "#3498db"
}
```

### 保存系统设置

```bash
POST /api/system/settings
Content-Type: application/json

{
  "key": "systemName",
  "value": "我的监控系统"
}
```

### 上传 Logo

```bash
POST /api/system/logo/upload
Content-Type: multipart/form-data

logo: [文件]
```

### 重置 Logo

```bash
POST /api/system/logo/reset
```

## 最佳实践

1. **品牌一致性**: 使用与公司或项目品牌一致的 Logo 和颜色
2. **简洁明了**: 标题和描述保持简洁，易于理解
3. **定期备份**: 定期备份系统设置和上传的文件
4. **测试效果**: 修改后及时查看效果，确保显示正常
5. **文档记录**: 记录自定义设置，便于团队协作

## 相关文档

- [快速开始](docs/QUICK_START.md)
- [系统监控](docs/CLUSTER_MONITORING_GUIDE.md)
- [备份还原](docs/BACKUP_GUIDE.md)
